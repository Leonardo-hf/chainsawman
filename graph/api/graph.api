type (
	Graph {
		Name  string `json:"name"`
		Desc  string `json:"desc"`
		Nodes int64  `json:"nodes"`
		Edges int64  `json:"edges"`
	}

	Node {
		Name string `json:"name"`
		Desc string `json:"desc"`
		Deg  int64  `json:"deg"`
	}

	Edge {
		Source string `json:"source"`
		Target string `json:"target"`
	}

	BaseReply {
		Status     int64             `json:"status"`
		Msg        string            `json:"msg"`
		TaskID     int64             `json:"taskId"`
		TaskStatus int64             `json:"taskStatus"`
		Extra      map[string]string `json:"extra"`
	}

	SearchAllGraphReply {
		Base   *BaseReply `json:"base"`
		Graphs []*Graph   `json:"graphs"`
	}

	SearchGraphReply {
		Base  *BaseReply `json:"base"`
		Graph *Graph     `json:"graph"`
	}

	SearchNodeReply {
		Base  *BaseReply `json:"base"`
		Info  *Node      `json:"node"`
		Nodes []*Node    `json:"nodes"`
		Edges []*Edge    `json:"edges"`
	}

	SearchGraphDetailReply {
		Base  *BaseReply `json:"base"`
		Nodes []*Node    `json:"nodes"`
		Edges []*Edge    `json:"edges"`
	}

	SearchRequest {
		TaskID int64 `json:"taskId"`

		Graph string `json:"graph"`
		Min   int64  `json:"min"`
	}

	SearchNodeRequest {
		TaskID int64 `json:"taskId"`

		Graph    string `json:"graph"`
		Node     string `json:"node"`
		Distance int64  `json:"distance"`
		Min      int64  `json:"min"`
	}

	DropRequest {
		Graph string `json:"graph"`
	}

	UploadRequest {
		TaskID int64 `json:"taskId"`

		Graph  string `json:"graph"`
		NodeID string `json:"nodeId"`
		EdgeID string `json:"edgeId"`
	}
)
service graph {
	@handler getAllGraph
	get /api/graph/getAll returns (SearchAllGraphReply)
	
	@handler getGraph
	get /api/graph/get (SearchRequest) returns (SearchGraphDetailReply)
	
	@handler getNode
	get /api/node/get (SearchNodeRequest) returns (SearchNodeReply)
	
	@handler dropGraph
	post /api/graph/drop (DropRequest) returns (BaseReply)
	
	@handler upload
	post /api/graph/upload (UploadRequest) returns (SearchGraphReply)
}